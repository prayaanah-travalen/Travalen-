<div *ngIf="isSaving" class="loading-overlay">
	<mat-spinner diameter="40"></mat-spinner>
	<span>Saving changes...</span>
  </div>
  
  <div>
	<mat-tab-group animationDuration="0ms">
  
	  <!-- HOTEL DETAILS TAB -->
	  <mat-tab label="Hotel Details">
		<div>
		  <form [formGroup]="hotelForm">
			<div class="col-lg-12">
			  <div class="hotel-details-long-bar">
				<!-- Header -->
				<div class="row">
				  <div class="col-lg-6">
					<h4 class="long-bar-hotel-details">Hotel Details</h4>
				  </div>
				  <div class="col-lg-6">
					<button *ngIf="hotelAction === 'MODIFY'" class="btn-edit-details" (click)="enableEditMode()">
					  <img src="./assets/images/Edit.png">Edit Details
					</button>
				  </div>
				</div>
  
				<!-- Hotel Info Rows -->
				<div class="row">
				  <div class="col-lg-4">
					<label class="labels">Hotel Name</label>
					<input class="text" type="text" formControlName="hotelName"
						   [ngClass]="hotelAction !== 'MODIFY' && (hotelForm.controls['hotelName'].errors || !hotelForm.controls['hotelName'].valid) ? 'error text' : 'text'">
				  </div>
				  <div class="col-lg-4">
					<label class="labels">Contact Address</label>
					<input class="text" type="text" formControlName="address"
						   [ngClass]="hotelAction !== 'MODIFY' && (hotelForm.controls['address'].errors || !hotelForm.controls['address'].valid) ? 'error text' : 'text'">
				  </div>
				  <div class="col-lg-4">
					<label class="labels">Email Address</label>
					<input class="text" type="text" formControlName="email"
						   [ngClass]="hotelAction !== 'MODIFY' && (hotelForm.controls['email'].errors || !hotelForm.controls['email'].valid) ? 'error text' : 'text'">
				  </div>
				</div>
  
				<!-- Additional Sections: Website, Location, About, Rules, Images, Amenities -->
				<div class="second">
				  <div class="row">
					<div class="col-lg-8">
					  <!-- Website & Location -->
					  <div class="row">
						<div class="col-lg-6">
						  <label class="labels">Website Link</label>
						  <input class="text" type="text" formControlName="websiteLink">
						</div>
						<div class="col-lg-6">
						  <label class="labels">Hotel Location</label>
						  <input class="text" type="text" formControlName="location"
								 [ngClass]="hotelAction !== 'MODIFY' && (hotelForm.controls['location'].errors || !hotelForm.controls['location'].valid) ? 'error text' : 'text'">
						</div>
					  </div>
  
					  <!-- Latitude & Longitude -->
					  <div class="row">
						<div class="col-lg-6">
						  <label class="labels">Latitude</label>
						  <input class="text" type="text" formControlName="latitude">
						</div>
						<div class="col-lg-6">
						  <label class="labels">Longitude</label>
						  <input class="text" type="text" formControlName="longitude">
						</div>
					  </div>
  
					  <!-- About & Property Rules -->
					  <div class="row">
						<div class="col-lg-12">
						  <label class="labels">About Hotel</label>
						  <textarea class="long-text" formControlName="about"></textarea>
						</div>
						<div class="col-lg-12">
						  <label class="labels">Property Rules</label>
						  <textarea class="long-text" formControlName="propertyRule"></textarea>
						</div>
					  </div>
  
					  <!-- Images -->
					  <div class="row">
						<div class="col-lg-8">
						  <label class="labels">Images</label>
						  <div class="images-container">
							<div class="row">
							  <div class="col-md mt-3" *ngFor="let image of hotel?.images">
								<img [src]="image.image">
							  </div>
							</div>
						  </div>
						</div>
					  </div>
					</div>
  
					<!-- Amenities -->
					<div class="col-lg-4">
					  <label class="labels">Amenities</label>
					  <div class="amenities">
						<div class="display-flex mb-3">
						  <mat-select class="dropdown" (selectionChange)="addAminity($event.value)" [disabled]="hotelAction === 'MODIFY'">
							<mat-option *ngFor="let amenity of amenities" [value]="amenity">{{amenity.description}}</mat-option>
						  </mat-select>
						</div>
						<mat-chip-list #chipList [disabled]="hotelAction === 'MODIFY'">
						  <mat-chip *ngFor="let amenity of amenityList" [selectable]="selectable"
									[removable]="removable" (removed)="removeAmenity(amenity)">
							{{amenity}}
							<i matChipRemove class="fa fa-close mt-2"></i>
						  </mat-chip>
						</mat-chip-list>
					  </div>
					</div>
				  </div>
  
				  <!-- File Upload -->
				  <div class="row">
					<app-file-upload [disabled]="hotelAction === 'MODIFY'" 
									 (imageEmitter)="imageEmitter($event)" 
									 (deletedImageEmitter)="deletedImage($event)" 
									 [savedImage]="savedImages">
					</app-file-upload>
				  </div>
  
				  <!-- Action Buttons -->
				  <div class="row justify-right">
					<button *ngIf="hotelAction === 'ADD'" class="btn-edit-details" (click)="saveHotel()">Save Hotel</button>
					<div *ngIf="hotelAction === 'EDIT'" class="btn-group">
					  <button class="btn-edit-details" (click)="updateHotel()">Update Hotel</button>
					  <button class="btn-cancel" (click)="cancelEdit()">Cancel</button>
					</div>
				  </div>
  
				</div>
			  </div>
			</div>
		  </form>
		</div>
	  </mat-tab>
  
	  <!-- ROOM DETAILS TAB -->
	  <!-- <mat-tab label="Room Details" [disabled]="!hotel?.hotelCode"> -->
		<mat-tab label="Room Details" [disabled]="!isHotelLoaded">
		<div>
		  <div class="col-lg-12">
			<div class="room-details-long-bar">
			  <!-- Room content remains the same, no nested forms -->
			</div>
		  </div>
		</div>
	  </mat-tab>
  
	  <!-- FINANCES TAB -->
	  <!-- <mat-tab label="Finances" [disabled]="!hotel?.hotelCode"> -->
		<mat-tab label="Finances" [disabled]="!isHotelLoaded">
		<div>
		  <form [formGroup]="financeForm">
			<div class="col-lg-12">
			  <div class="finances-long-bar">
				<h4 class="heading-finances">Finances</h4>
				<p class="para-one">NOTE: The payment will be processed in INR.</p>
  
				<div class="finances">
				  <div class="row">
					<div class="col-lg-6">
					  <label class="labels">Bank Country/Region</label><br>
					  <input class="text" type="text" formControlName="country">
					  <label class="labels">SWIFT Code</label><br>
					  <input class="text" type="text" formControlName="swiftCode">
					  <label class="labels">Account Number</label><br>
					  <input class="text" type="text" formControlName="accountNumber">
					  <label class="labels">PAN</label><br>
					  <input class="text" type="text" formControlName="pan">
					</div>
					<div class="col-lg-6">
					  <label class="labels">Bank Name</label><br>
					  <input class="text" type="text" formControlName="bankName">
					  <label class="labels">IFSC/Bank Code</label><br>
					  <input class="text" type="text" formControlName="ifsc">
					  <label class="labels">Account Holder Name</label><br>
					  <input class="text" type="text" formControlName="accountHolderName">
					</div>
				  </div>
				</div>
  
				<!-- GST & Trade Info -->
				<div class="para-box">
				  <p class="para-two">Due to regulations established by the Indian government...</p>
				</div>
  
				<p class="para-three">Are you registered for GST purposes?</p>
				<label><input type="radio" value="yes" formControlName="registeredForGst">Yes</label>
				<label><input type="radio" value="no" formControlName="registeredForGst">No</label>
  
				<div class="trade">
				  <div class="row">
					<div class="col-lg-6">
					  <label class="labels">Trade Name</label><br>
					  <input class="text" type="text" formControlName="tradeName">
					</div>
					<div class="col-lg-6">
					  <label class="labels">GSTIN</label><br>
					  <input class="text" type="text" formControlName="gstIn">
					</div>
				  </div>
				</div>
  
				<div class="row mt-3 justify-right">
				  <button class="btn-edit" (click)="saveFinance()">Save</button>
				</div>
  
			  </div>
			</div>
		  </form>
		</div>
	  </mat-tab>
  
	  <!-- CONTACT PERSON TAB -->
	  <!-- <mat-tab label="Contact Person" [disabled]="!hotel?.hotelCode"> -->
		<mat-tab label="Contact Person" [disabled]="!isHotelLoaded">
		<div>
		  <form [formGroup]="contactForm">
			<div class="col-lg-12">
			  <div class="finances-long-bar">
				<h4 class="heading-finances">Contact Person</h4>
				<div class="row">
				  <div class="col-lg-6">
					<label class="labels">First Name</label><br>
					<input class="text" type="text" formControlName="firstName">
					<label class="labels">Last Name</label><br>
					<input class="text" type="text" formControlName="lastName">
					<label class="labels">Phone No</label><br>
					<input class="text" type="text" formControlName="phone">
					<label class="labels">Whatsapp Number</label><br>
					<input class="text" type="text" formControlName="whatsapp">
					<label class="labels">Designation</label><br>
					<input class="text" type="text" formControlName="designation">
					<label class="labels">Email</label><br>
					<input class="text" type="text" formControlName="email">
				  </div>
				</div>
			  </div>
			</div>
		  </form>
		</div>
	  </mat-tab>
  
	</mat-tab-group>
  </div>
  